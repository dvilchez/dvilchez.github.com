---
layout: post
title: TDD/BDD – Segundo sábado áxil
categories:
- articulos
- eventos
- tdd
tags:
- bdd
- tdd
status: publish
type: post
published: true
meta:
  _jd_tweet_this: ''
  _jd_twitter: ''
  _wp_jd_clig: ''
  _wp_jd_bitly: http://bit.ly/e8gNjm
  _wp_jd_wp: ''
  _wp_jd_yourls: ''
  _wp_jd_url: ''
  _wp_jd_target: http://dvilchez.net/?p=244
  _jd_wp_twitter: ''
  _jd_post_meta_fixed: 'true'
  _edit_last: '2'
author:
  login: david
  email: dvilchezm@gmail.com
  display_name: David Vílchez Mendoza
  first_name: David
  last_name: Vílchez Mendoza
---
<p>Este fin de semana tuvo lugar el <a href="http://axilmente.blogspot.com/2011/03/ii-sabado-axil.html">segundo sábado áxil</a> de la <a href="http://axilmente.blogspot.com/">comunidad áxil-mente de Galicia</a>. En dicho evento pude proponer una charla sobre <a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">BDD</a>, después de escuchar las opiniones de todos y ordenar un poco mis ideas voy a intentar expresar mi opinión al respecto.</p>
<p>Yo soy de los que piensan que <strong>BDD es <a href="http://en.wikipedia.org/wiki/Test-driven_development">TDD</a> bien hecho</strong>. Tengo que reconocer que esta opinión provoco ciertas sonrisillas y tal vez merezca la pena una aclaración.</p>
<p>Al principio, al menos en “mi” principio, TDD era una de las practicas de <a href="http://www.extremeprogramming.org/">XP</a> y consistía en escribir un test antes de empezar a escribir código. Solo eso. ¿Y BDD? <strong>BDD es todo lo que TDD quiso ser y no le dejaron</strong>. Escribir los test antes que el código tiene una serie de beneficios intrínsecos. Tenemos mucho más que una extensa red de seguridad para hacer <a href="http://en.wikipedia.org/wiki/Code_refactoring">refactoring</a> o cambiar algo en nuestro código. Lo cierto es que también nos ayuda a obtener un mejor diseño, a desacoplar más nuestras clases, a centrarnos más en lo que estamos haciendo, a diseñar nuestras APIs desde el punto de vista de quién las consume y un largo etc. Por tanto TDD merecía un nombre más ambicioso, entonces llego BDD.</p>
<p>La primera persona que hablo sobre BDD fue <a href="http://dannorth.net/introducing-bdd/">Dan North</a>. En su artículo habla sobre todo el proceso que siguieron él y algunos amigos hasta dar con lo que llamaron BDD. Os animo a leer el artículo con atención. Para mí la palabra clave es “behaviour”.  Si quitamos la palabra test de nuestro proceso de desarrollo favorito y ponemos comportamiento no tendremos una batería de test que ejercita nuestras clases y métodos, tendremos <strong>el comportamiento de nuestros objetos expresado en forma de test</strong>. Esa es la clave.</p>
<p>Un poco de código:</p>
<p>Ejemplo en TDD:<br />
</p>
{% highlight csharp %}
[TestClass]
public class CalculatorTests
{
   [TestMethod]
   public void AddTest()
   {
      var calc=new Calculator();
      var result = calc.Add(3, 2);
      Assert.AreEqual(5,result);
    }
}
{% endhighlight %}
<p>Ejemplo en BDD:<br />
</p>
{% highlight csharp %}
[TestClass]
public class CalculatorSpecs
{
  [TestMethod]
  public void given_two_natural_number_when_add_then_result_is_ok()
  {
    var calc = new Calculator();
    var result = calc.Add(3, 2);
    Assert.AreEqual(5, result);
  }
}
{% endhighlight %}
<p>¿Pero qué aporta BDD? Bueno, primero desterrar de una vez por todas la T(est) de su nombre, algo que muchos pedían a voz en grito. Y segundo, otra serie de beneficios, por ejemplo: la mejor documentación de tu código estará en tus test, serán menos frágiles o al menos mentirán menos ya que prueban el “qué “ y no el “cómo”, incluso, si tienes suerte, puede que tus clientes escriban los criterios de aceptación de sus historias usando <a href="https://github.com/aslakhellesoy/cucumber/wiki/gherkin">Gherkin</a> y cerrarás el círculo como hace Dan North en su artículo.</p>
<p>Algunos dicen que BDD son test de aceptación. Yo pienso que un test tanto si es de aceptación, de integración, unitario o lo que sea debe y puede expresar un comportamiento. Otros hablan de niveles y dicen que BDD solo se puede aplicar a niveles más externos de la aplicación dejando TDD para las capas más internas y cercanas al desarrollador. Mi opinión es que estas confusiones las han provocado los framework y sus notaciones a la hora de expresar los comportamientos. Así tenemos <a href=" http://dannorth.net/introducing-bdd/">Given/When/Then</a> o <a href="http://codebetter.com/jpboodhoo/2007/11/29/getting-started-with-bdd-style-context-specification-base-na/">Context/Specification</a>. Pero no podemos dejar que estos frameworks nos digan dónde podemos usar BDD. Si para ti no es natural expresar los test de tus capas más internas con GWT entonces no lo uses, usa cualquier otra forma que te sea útil (can_add_two_numbers por ejemplo).</p>
<p>BDD es la forma de hacer TDD del siglo 21, ¿te lo vas a perder?</p>
<p>&nbsp;</p>
<p>Para saber más:</p>
<ul>
<li><span style="text-decoration: underline;"><a href="http://en.wikipedia.org/wiki/Behaviour">http://en.wikipedia.org/wiki/Behaviour</a></span></li>
<li><a href="http://dannorth.net/whats-in-a-story/">http://dannorth.net/whats-in-a-story/</a></li>
<li><a href="http://blog.michaelbrennan.net/2009/09/introducing-context-specification.html">http://blog.michaelbrennan.net/2009/09/introducing-context-specification.html</a></li>
<li><a href="http://saraford.net/2004/10/28/developing-a-test-specification/">http://saraford.net/2004/10/28/developing-a-test-specification/</a></li>
<li><a href="http://inter-sections.net/2007/10/03/the-difference-between-tdd-and-bdd">http://inter-sections.net/2007/10/03/the-difference-between-tdd-and-bdd</a></li>
</ul>
<p>&nbsp;</p>
