---
comments: true
share: true
layout: post
title: wma2mp3 batch process
categories:
- snippets
tags:
- mp3
- script
- wma
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _jd_twitter: ''
  _jd_post_meta_fixed: 'true'
  _jd_wp_twitter: ''
  _wp_jd_target: ''
  _wp_jd_url: ''
  _wp_jd_yourls: ''
  _wp_jd_wp: ''
  _jd_tweet_this: ''
  _wp_jd_bitly: ''
  _wp_jd_clig: ''
author:
  login: david
  email: dvilchezm@gmail.com
  display_name: David Vílchez Mendoza
  first_name: David
  last_name: Vílchez Mendoza
---
<p>Ayer necesité convertir "demasiados" archivos wma a mp3. Buscando en google encontré <a title="wma to mp3 linux" href="http://www.elmodem.com/archivo/2006/08/04/convertir-archivos-wma-a-mp3-en-linux/">este script</a>, pero es para linux. Así que ni corto ni perezoso me puse y los pase a windows.</p>
<p>Tenéis que descargar <a title="Mplayer" href="http://www.mplayerhq.hu/design7/news.html">mplayer</a> y <a title="lame" href="http://lame.sourceforge.net/">lame</a> en sus versiones para windows.</p>
<p>fichero1.bat</p>
{% highlight bat %}
for /f  "tokens=*" %%a in ('dir *.wma /s/b') do fichero2.bat "%%a"
{% endhighlight %}
<p>fichero2.bat</p>
{% highlight bat %}
set entrada=%1
mplayer %entrada% -ao pcm
set wavfile=%entrada:wma=wav%
move audiodump.wav %wavfile%
set mp3file=%entrada:wma=mp3%
lame %wavfile% %mp3file%
del %wavfile%
del %entrada%
{% endhighlight %}
<p>Lo único que tienes que modificar es la ruta donde hacer el dir y rular el fichero1.bat. Para alguien con  bastos conocimientos en la materia seguramente sea muy cutre pero fue bastante rápido y funciona. No obstante si tienes alguna mejora dejarla en los comentarios.</p>
